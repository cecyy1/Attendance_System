<!-- templates/time_logs.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Time Logs</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
    <h1 class="mb-4">Clock In / Clock Out</h1>
    <a href="/" class="btn btn-secondary mb-3">Home</a>

    <!-- Form to select employee and clock in/out -->
    <form method="post" action="/handle_clock" class="row g-2">
        <div class="col-md-6">
            <select name="employee_id" class="form-select" required>
                <option value="">Select Employee</option>
                {% for emp in employees %}
                    <option value="{{ emp[0] }}">{{ emp[1] }} {{ emp[2] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-3">
            <button name="action" value="clock_in" class="btn btn-success w-100">Clock In</button>
        </div>
        <div class="col-md-3">
            <button name="action" value="clock_out" class="btn btn-secondary w-100">Clock Out</button>
        </div>
    </form>
    
    

    <hr>

    <h2 class="mt-4">Log History</h2>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Log ID</th>
            <th>Employee</th>
            <th>Clock In</th>
            <th>Clock Out</th>
        </tr>
        </thead>
        <tbody>
        {% for log in logs %}
            <tr>
                <td>{{ log[0] }}</td>
                <td>{{ log[1] }} {{ log[2] }}</td>
                <<td>{{ log[3].strftime('%b %d, %Y %I:%M %p') if log[3] else '' }}</td>
                <td>{{ log[4].strftime('%b %d, %Y %I:%M %p') if log[4] else "Still Clocked In" }}</td>                
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
